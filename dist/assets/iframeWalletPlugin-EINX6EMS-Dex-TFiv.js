import{au as h,av as A,aw as E,E as m,i as C,r as n,ax as I,ay as l,az as a,a as P,o as b}from"./index-CwMm_7HW.js";var D=()=>{var i;let{provider:r}=h(),{wallet:o}=A(),{openAccountAndSecurity:c}=E(),{modalOptions:e}=m(),{connected:u}=C(),s=n.useCallback(async t=>{if(t==="open-account-and-security")c();else if(t==="get-user-info")return I()},[c]);return n.useEffect(()=>{var t,d,p;if(((t=e.wallet)==null?void 0:t.visible)!==!1){let g={...e.wallet,erc4337:e.erc4337,language:e.language};l.init({projectId:e.projectId,clientKey:e.clientKey,appId:e.appId},g);let w=()=>{l.walletEntryCreate()},f=()=>{l.walletEntryDestroy()};return typeof window<"u"&&((d=window.particleAuth)==null||d.on(a.ParticleAuthDisconnect,f),(p=window.particleAuth)==null||p.on(a.ParticleAuthConnect,w)),P()&&l.walletEntryCreate(),()=>{var v,y;typeof window<"u"&&((v=window.particleAuth)==null||v.off(a.ParticleAuthDisconnect,f),(y=window.particleAuth)==null||y.off(a.ParticleAuthConnect,w))}}},[e.projectId,e.clientKey,e.appId,e.wallet,e.erc4337,e.language]),n.useEffect(()=>{var t;u&&((t=e.wallet)==null?void 0:t.visible)!==!1&&l.setWalletCore({ethereum:r,solana:o},s)},[u,r,o,(i=e.wallet)==null?void 0:i.visible,s]),b.createElement("div",{id:"auth-core-modal-wallet-plugin",style:{display:"none"}},"Wallet Plugin")},x=D;export{x as default};
